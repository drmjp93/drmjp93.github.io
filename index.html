<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dr. Mit Panchani | Profile</title>
  <meta name="description" content="Dr Mit Panchani — Internal Medicine physician and 2D Echocardiography fellow. OPD care, telemedicine, chronic disease management." />

  <style>
    :root {
      --bg:#f5f7fa;
      --card:#ffffff;
      --text:#222;
      --muted:#6b7280;
      --accent:#1a1a1a;
    }

    *{ box-sizing:border-box; }

    body {
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; }
    }

    @keyframes fadeIn { from{opacity:0} to{opacity:1} }
    @keyframes slideIn { from{opacity:0; transform:translateY(-12px)} to{opacity:1; transform:translateY(0)} }
    @keyframes fadeUp { from{opacity:0; transform:translateY(18px)} to{opacity:1; transform:translateY(0)} }

    .fade-in{ animation:fadeIn 1s ease-out; }
    .slide-in{ animation:slideIn .9s ease-out; }
    .fade-up{ animation:fadeUp 1s ease-out; }

    header {
      background:var(--accent);
      color:#fff;
      padding:28px 20px;
    }

    .header-flex {
      display:flex;
      align-items:center;
      gap:20px;
      max-width:1100px;
      margin:0 auto;
    }

    .profile-photo-container { flex:0 0 120px; }
    .profile-photo {
      width:120px;
      height:120px;
      border-radius:50%;
      object-fit:cover;
      object-position:50% 5%;
      border:2px solid rgba(255,255,255,0.12);
      box-shadow:0 6px 18px rgba(0,0,0,0.28);
    }

    .separator { width:1px; height:130px; background:rgba(255,255,255,0.12); }

    .header-text h1 { margin:0; font-size:1.6rem; }
    .header-text p { margin:6px 0 0; font-size:0.8rem; opacity:0.75; }

    main.container {
      width:92%;
      max-width:980px;
      margin:28px auto;
      background:var(--card);
      padding:28px;
      border-radius:12px;
      box-shadow:0 10px 30px rgba(15,15,15,0.06);
    }

    section { margin-bottom:20px; }

    h2 {
      border-left:5px solid var(--accent);
      padding-left:12px;
      margin-top:16px;
      margin-bottom:12px;
      font-size:1.45rem;
      color:var(--accent);
    }

    ul.clean { padding-left:18px; margin:8px 0; }

    .appointment-btn {
      display:inline-block;
      margin-top:14px;
      padding:12px 20px;
      border-radius:8px;
      background:var(--accent);
      color:#fff;
      text-decoration:none;
      font-weight:700;
      transition:transform .18s ease, background .18s ease;
    }

    .appointment-btn:hover { transform:scale(1.03); background:#000; }

    .small-note {
      font-size:0.92rem;
      color:var(--muted);
      background:#fbfbff;
      padding:10px;
      border-radius:8px;
      margin-top:10px;
    }

    @media (max-width:720px){
      .header-flex{ flex-direction:column; text-align:center; }
      .separator{ display:none; }
      .profile-photo{ width:110px; height:110px; }
      main.container{ padding:18px; }
      h2{ font-size:1.28rem; }
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header class="fade-in" role="banner">
    <div class="header-flex">
      <div class="profile-photo-container">
        <!-- image from repo root -->
        <img src="myphoto.jpg" alt="Dr Mit Panchani — Internal Medicine" class="profile-photo" loading="lazy" />
      </div>

      <div class="separator" aria-hidden="true"></div>

      <div class="header-text">
        <h1 class="slide-in">Dr. Mit Panchani</h1>
        <p class="fade-in">MD (General Medicine) | 2D Echocardiographer </p>
      </div>

      <!-- NAV removed as requested -->
    </div>
  </header>

  <!-- SLIM INLINE STATS BAR (between header and main) -->
  <style>
    /* Slim Inline Stats Bar - polished with pulse + tooltip */
    #inline-stats-bar {
      max-width:980px;
      margin: -18px auto 10px;
      position: relative;
      z-index: 5;
      pointer-events: auto;
    }

    #inline-stats-card {
      display:flex;
      justify-content:center;
      align-items:center;
      gap:24px;
      background: var(--accent);            /* match header color exactly */
      padding: 6px 10px;
      border-radius: 0 0 12px 12px;
      border-top: 1px solid rgba(255,255,255,0.04);
      border-bottom: 1px solid rgba(0,0,0,0.8);
      /* soft top + bottom shadow to blend into header */
      box-shadow:
        0 6px 18px rgba(0,0,0,0.20),
        0 -4px 10px rgba(0,0,0,0.12);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }

    .is-block {
      display:flex;
      flex-direction:column;
      align-items:center;
      min-width:64px;
      position:relative; /* for tooltip */
    }

    .is-number {
      font-weight:700;
      font-size:0.98rem;
      color:#fff;
      line-height:1.05;
      animation: statPulse .95s cubic-bezier(.22,.8,.26,1);
    }

    .is-label {
      font-size:0.65rem;
      margin-top:3px;
      color:#9ca3af;
      letter-spacing:0.2px;
    }

    .is-sep {
      font-size:0.42rem;
      color:#5b6470;
      margin:0 6px;
    }

    /* subtle pulse animation on numbers (visual only) */
    @keyframes statPulse {
      from { color:#cfe3ff; transform: translateY(3px); }
      to   { color:#ffffff; transform: translateY(0); }
    }

    /* tooltip */
    .inline-tip {
      position:absolute;
      top:-30px;
      left:50%;
      transform:translateX(-50%);
      background:rgba(0,0,0,0.88);
      color:#fff;
      font-size:0.68rem;
      padding:5px 8px;
      border-radius:6px;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
      transition:opacity .14s ease;
      box-shadow:0 6px 14px rgba(0,0,0,0.3);
      z-index:11;
    }

    /* show tooltip on hover (desktop only) */
    @media (hover: hover) {
      .is-block:hover .inline-tip { opacity:1; }
    }

    @media (max-width:720px){
      #inline-stats-card { gap:14px; padding:6px; border-radius:0 0 10px 10px; }
      .is-number { font-size:0.9rem; }
      .is-label { font-size:0.58rem; }
    }
  </style>

  <div id="inline-stats-bar" aria-hidden="true" style="display:none">
    <div id="inline-stats-card" role="region" aria-label="Key clinical stats">
      <div class="is-block">
        <div class="is-number" data-key="echo_studies">—</div>
        <div class="is-label">Echo</div>
        <span class="inline-tip">Total 2D echo studies performed</span>
      </div>

      <div class="is-sep">•</div>

      <div class="is-block">
        <div class="is-number" data-key="cases_attended">—</div>
        <div class="is-label">Cases</div>
        <span class="inline-tip">Total clinical cases attended</span>
      </div>

      <div class="is-sep">•</div>

      <div class="is-block">
        <div class="is-number" data-key="surgical_fitness_given">—</div>
        <div class="is-label">Fitness</div>
        <span class="inline-tip">Surgical fitness certificates issued</span>
      </div>

      <div class="is-sep">•</div>

      <div class="is-block">
        <div class="is-number" data-key="admissions">—</div>
        <div class="is-label">Adm.</div>
        <span class="inline-tip">Admissions managed</span>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const INLINE_ID = 'inline-stats-bar';
      const HIDE_KEY = 'hideStatsMode'; // unified key
      const STATS_PATH = '/stats.json';

      const inlineBar = document.getElementById(INLINE_ID);
      if (!inlineBar) return;

      // animate integer from 0 to target with ease-out cubic (slow near end)
      function animateNumberEl(el, to, duration=2200){
        const from = 0;
        const start = performance.now();
        function easeOutCubic(x){ return 1 - Math.pow(1 - x, 3); } // ease-out
        function frame(now){
          const progress = Math.min((now - start)/duration, 1);
          const t = easeOutCubic(progress);
          const val = Math.floor(from + (to - from) * t);
          el.textContent = val.toLocaleString();
          if (progress < 1) requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
      }

      // populate inline numbers from local data
      function populateInline(data){
        const keys = ['echo_studies','cases_attended','surgical_fitness_given','admissions'];
        keys.forEach(key => {
          const el = document.querySelector('#' + INLINE_ID + ' [data-key="'+key+'"]');
          if (!el) return;
          const value = Number(data[key]) || 0;
          animateNumberEl(el, value, 2200 + Math.random()*800);
        });
      }

      // should show inline when hide flag set (expiry or 'inline')
      function shouldShowInline(){
        try {
          const saved = sessionStorage.getItem(HIDE_KEY);
          if(!saved) return false;
          if (saved === 'inline') return true;
          const expiry = new Date(saved);
          if (!isNaN(expiry) && expiry > new Date()) return true;
        } catch(e){ /* ignore */ }
        return false;
      }

      // fetch stats.json and populate
      fetch(STATS_PATH + '?_=' + Date.now())
        .then(r => r.ok ? r.json() : {})
        .then(data => {
          if (shouldShowInline()){
            inlineBar.style.display = 'block';
            inlineBar.setAttribute('aria-hidden','false');
            populateInline(data);
          } else {
            // prefill hidden elements (makes them ready if user closes floating widget)
            populateInline(data);
          }
        }).catch(err => console.warn('inline-stats fetch failed', err));

      // observe storage changes (other tabs)
      window.addEventListener('storage', (e) => {
        if (e.key === HIDE_KEY){
          if (shouldShowInline()){
            inlineBar.style.display = 'block';
            inlineBar.setAttribute('aria-hidden','false');
          } else {
            inlineBar.style.display = 'none';
            inlineBar.setAttribute('aria-hidden','true');
          }
        }
      });
    })();
  </script>

  <!-- MAIN CONTENT -->
  <main class="container" id="main" role="main">

    <section id="about" class="fade-up">
      <h2>About Me</h2>
      <p>
        I provide comprehensive Internal Medicine care for adults, managing respiratory and metabolic conditions,
        infections, cardiac and renal problems, and neurological symptoms. I follow a clear, structured, evidence-based approach
        so patients receive accurate diagnosis and practical treatment plans.
      </p>
    </section>

    <section id="qualifications" class="fade-up">
      <h2>Qualifications</h2>
      <ul class="clean">
        <li>MBBS — Ahmedabad</li>
        <li>MD (General Medicine) — Surat</li>
        <li>PGCIH (MSU) — Baroda</li>
        <li>Fellowship in 2D Echocardiography (CIMS) — Ahmedabad</li>
      </ul>
    </section>

    <section id="experience" class="fade-up">
      <h2>Clinical Experience</h2>
      <ul class="clean">
        <li>Clinical practice in adult Internal Medicine with focus on OPD-based diagnosis and management.</li>
        <li>Hands-on experience in respiratory illnesses, diabetes, thyroid disorders, hypertension, renal infections, and headache disorders.</li>
        <li>Skilled in cardiac evaluation including ECG and 2D Echocardiography.</li>
        <li>Experience in managing medical disorders during pregnancy (diabetes, thyroid, hypertension).</li>
        <li>Preventive health counselling and long-term chronic disease follow-up.</li>
      </ul>
    </section>

    <section id="telemedicine" class="fade-up">
      <h2>Telemedicine Consultation</h2>
      <p>Click below to view details and book an online consultation.</p>

      <a href="telemedicine.html" class="appointment-btn" aria-label="Open telemedicine page for booking">
        Telemedicine Consultation
      </a>

      <p class="small-note">
        Detailed instructions, payment steps, and WhatsApp confirmation link will be shown on the telemedicine page.
      </p>
    </section>

  </main>

  <footer role="contentinfo" style="text-align:center;padding:20px;color:var(--muted)">
    © 2025 Dr. Mit Panchani. All Rights Reserved.
  </footer>

  <!-- START: Floating Stats Widget (with Visitors via counterapi.dev) -->
  <style>
    #live-stats{position:fixed;right:16px;bottom:16px;z-index:9999;font-family:system-ui,Segoe UI,Roboto,Arial}
    #live-stats .card{min-width:240px;background:#0f1724;color:#fff;padding:12px;border-radius:10px;box-shadow:0 10px 30px rgba(2,6,23,.45)}
    #live-stats .row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    #live-stats .label{font-size:12px;color:#a5b4fc}
    #live-stats .num{font-weight:700;font-size:16px}
    #live-stats .close-btn{background:transparent;border:none;color:#cbd5e1;font-size:18px;cursor:pointer}
    #live-stats .muted{font-size:11px;color:#94a3b8;margin-top:8px}
    @media (max-width:520px){ #live-stats{right:10px;left:10px;bottom:12px} #live-stats .card{min-width:unset} }
  </style>

  <div id="live-stats" aria-live="polite">
    <div class="card" role="region" aria-label="Clinical activity">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong style="font-size:14px">Clinical Activity</strong>
        <button class="close-btn" id="stats-close" aria-label="Close stats">×</button>
      </div>

      <div class="row">
        <div>
          <div class="label">Echo studies</div>
          <div class="num" data-key="echo_studies">—</div>
        </div>
        <div>
          <div class="label">Cases attended</div>
          <div class="num" data-key="cases_attended">—</div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Surgical fitness</div>
          <div class="num" data-key="surgical_fitness_given">—</div>
        </div>
        <div>
          <div class="label">Admissions</div>
          <div class="num" data-key="admissions">—</div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Visitors</div>
          <div class="num" data-key="visitors">—</div>
        </div>
        <div style="text-align:right">
          <div class="label">Updated</div>
          <div id="stats-updated" style="font-size:12px;color:#cbd5e1">—</div>
        </div>
      </div>

    </div>
  </div>

  <script>
    (function(){
      const path = '/stats.json';
      const visitorsInc = 'https://counterapi.dev/api/drmjp93s-team/visitors/increment';
      const visitorsGet = 'https://counterapi.dev/api/drmjp93s-team/visitors';

      const HIDE_KEY = 'hideStatsMode';
      const TEMP_HIDE_MS = 10 * 60 * 1000; // 10 minutes

      const card = document.getElementById('live-stats');
      const closeBtn = document.getElementById('stats-close');

      // Hide floating if inline/expiry present
      try {
        const saved = sessionStorage.getItem(HIDE_KEY);
        if (saved === 'inline') { if (card) card.style.display = 'none'; }
        else if (saved) {
          const expiry = new Date(saved);
          if (!isNaN(expiry) && expiry > new Date()) { if (card) card.style.display = 'none'; }
        }
      } catch(e){}

      // Close button: hide floating, enable inline for TEMP_HIDE_MS
      closeBtn.addEventListener('click', () => {
        if (card) card.style.display = 'none';
        const until = new Date(Date.now() + TEMP_HIDE_MS).toISOString();
        try { sessionStorage.setItem(HIDE_KEY, until); } catch(e){}
        try { window.dispatchEvent(new StorageEvent('storage', { key: HIDE_KEY, newValue: until })); } catch(e){}
      });

      // animate helper with ease-out cubic for slow finish
      function easeOutCubic(x){ return 1 - Math.pow(1 - x, 3); }

      function animate(el, to, duration=2400){
        const from = 0;
        const start = performance.now();
        function frame(now){
          const progress = Math.min((now - start) / duration, 1);
          const t = easeOutCubic(progress);
          el.textContent = Math.floor(from + (to - from) * t).toLocaleString();
          if (progress < 1) requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
      }

      function extractNumber(obj){
        if (!obj || typeof obj !== 'object') return 0;
        return Number(obj.count ?? obj.value ?? obj.hits ?? obj.total ?? obj._value ?? 0) || 0;
      }

      const localStatsP = fetch(path + '?_=' + Date.now()).then(r => r.ok ? r.json() : {}).catch(()=> ({}));

      const visitorsP = fetch(visitorsInc, { method:'GET', redirect:'follow' })
        .then(r => r.text().then(t => { try { return JSON.parse(t); } catch(e){ return null; } }))
        .then(parsed => {
          const n = extractNumber(parsed);
          if (n) return n;
          return fetch(visitorsGet).then(r => r.json()).then(j => extractNumber(j)).catch(()=>0);
        })
        .catch(() => {
          return fetch(visitorsGet).then(r => r.json()).then(j => extractNumber(j)).catch(()=>0);
        });

      Promise.all([localStatsP, visitorsP]).then(([data, visitors]) => {
        document.querySelectorAll('#live-stats .num').forEach(el => {
          const key = el.dataset.key;
          if (key === 'visitors') return;
          const val = Number(data[key]) || 0;
          animate(el, val, 1800 + Math.random()*1200); // slowed & variable
        });

        const visEl = document.querySelector('.num[data-key="visitors"]');
        if (visEl) animate(visEl, visitors, 2000);

        const up = document.getElementById('stats-updated');
        if (up) up.textContent = new Date().toLocaleString();
      }).catch(err => console.warn('stats widget error', err));

      // listen for storage changes
      window.addEventListener('storage', (e) => {
        if (e.key === HIDE_KEY){
          const saved = sessionStorage.getItem(HIDE_KEY);
          if (saved === 'inline') { if (card) card.style.display='none'; }
          else if (saved) {
            const expiry = new Date(saved);
            if (!isNaN(expiry) && expiry > new Date()) { if (card) card.style.display='none'; }
          } else { if (card) card.style.display='block'; }
        }
      });

    })();
  </script>
  <!-- END: Floating Stats Widget -->

</body>
</html>